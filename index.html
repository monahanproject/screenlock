<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="styles.css" rel="stylesheet" type="text/css" />
    <!-- <link href="stylez.css" rel="stylesheet" type="text/css" /> -->

    <link href="https://fonts.googleapis.com/css2?family=PT+Mono&display=swap" rel="stylesheet" />
    <title>Monahan</title>

    <meta name="author" content="Marie Claire LeBlanc Flanagan" />
    <meta name="description" content="A sound walk for curious ears" />

    <meta property="og:title" content="Monahan" />
    <meta property="og:description" content="Wander and listen" />
    <meta property="og:image" content="images/mon1.png" />
    <meta property="og:url" content="https://monahanwalks.ca/index.html" />
    <meta property="og:type" content="game" />

    <meta name="twitter:title" content="Monahan" />
    <meta name="twitter:description" content="Wander and listen" />
    <meta name="twitter:image" content="https://monahanwalks.ca/images/mon1.png" />
    <meta name="twitter:card" content="summary_large_image" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <!-- <link rel="manifest" href="/site.webmanifest"> -->

    <!-- <script>
      window.addEventListener("load", (event) => {
        document.body.classList.remove("preload");
      });
    </script> -->
  </head>
  <body>
    <p>strict?!</p>
    <audio id="background-music" loop>
      <source src="025_1.WAV" type="audio/wav" />
      Your browser does not support the audio element.
    </audio>
    <input type="checkbox" id="sound" /><label class="settings" for="sound">ðŸ”ŠSound</label>
  </body>
</html>

<script>
  // "use strict";

  // Background music
  const backgroundMusic = document.querySelector("#background-music");

  // Function to play background music
  const playBackgroundMusic = () => {
    if (backgroundMusic) {
      backgroundMusic.play().catch((err) => {
        console.error("Background music could not be played:", err);
      });
    }
  };

  document.addEventListener("click", playBackgroundMusic, { once: true });

  // Wake lock functionality
  const requestWakeLock = async () => {
    if ("wakeLock" in navigator) {
      try {
        const wakeLockRequest = await navigator.wakeLock.request("screen");
        console.log("Wake lock activated.");

        // Re-request the wake lock if the visibility state changes
        document.addEventListener("visibilitychange", async () => {
          if (document.visibilityState === "visible" && !wakeLockRequest) {
            wakeLockRequest = await navigator.wakeLock.request("screen");
            console.log("Wake lock re-activated.");
          }
        });
      } catch (err) {
        console.error("Wake lock could not be activated:", err);
      }
    } else {
      console.warn("Wake lock API not available.");
    }
  };

  // Request wake lock on page load
  requestWakeLock();
</script>
